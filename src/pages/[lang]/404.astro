---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Hero from "@/components/widgets/Hero.astro";
import { useTranslations, getLangFromUrl } from "../../i18n";
import { ui, defaultLang } from "../../i18n";

// Export getStaticPaths function
export function getStaticPaths() {
  // Filter out default language (handled by root pages)
  const languages = Object.keys(ui).filter(lang => lang !== defaultLang);
  
  return languages.map(lang => ({
    params: { lang },
    props: { lang },
  }));
}

// Get current language from URL
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const metadata = {
    title: t("404.title"),
    description: "The page you're looking for doesn't exist.",
    ignoreTitleTemplate: true,
};
---

<BaseLayout {metadata} lang={lang}>
    <Hero
        title={`<h1 class="bg-linear-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent text-[12rem] font-extrabold tracking-tighter mb-4">404</h1>`}
        description={t("404.description")}
        actions={[
            {
                variant: "primary",
                text: "Back to Home",
                href: "/",
                icon: "lucide:home",
            },
            {
                variant: "secondary",
                text: "Contact",
                href: "/contact",
                icon: "lucide:phone",
            },
        ]}
    />
</BaseLayout>
